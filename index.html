<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="ê¹ƒë°œì„ ì°¾ì•„ë¼">
<meta name="theme-color" content="#7a5230">
<title>ğŸš© ê¹ƒë°œì„ ì°¾ì•„ë¼!</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700;900&display=swap');

  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }

  :root {
    --gold: #d4a84b;
    --dark-brown: #3a2010;
    --mid-brown: #7a5230;
    --light-parchment: #f5e6c0;
    --parchment: #e8d090;
    --card-h: 170px;
  }

  html, body {
    height: 100%;
    overflow-x: hidden;
  }

  body {
    min-height: 100vh;
    min-height: 100dvh;
    background-color: #c8a96e;
    background-image:
      radial-gradient(ellipse at 20% 20%, rgba(180,140,80,0.4) 0%, transparent 50%),
      radial-gradient(ellipse at 80% 80%, rgba(140,100,50,0.4) 0%, transparent 50%);
    font-family: 'Noto Sans KR', sans-serif;
    padding: env(safe-area-inset-top, 0) 0 calc(env(safe-area-inset-bottom, 0) + 20px);
    position: relative;
  }
  body::before {
    content: '';
    position: fixed; inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/xml' width='200' height='200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='200' height='200' filter='url(%23n)' opacity='0.12'/%3E%3C/svg%3E");
    pointer-events: none; z-index: 0;
  }

  .page { position: relative; z-index: 1; max-width: 600px; margin: 0 auto; padding: 0 14px 30px; }

  /* â”€â”€ Header â”€â”€ */
  header { text-align: center; padding: 18px 0 14px; }
  .header-banner {
    display: inline-block;
    background: linear-gradient(135deg, #5a3a1a, #7a5230, #5a3a1a);
    border: 3px solid var(--dark-brown);
    border-radius: 10px;
    padding: 14px 30px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,220,150,0.2);
    position: relative;
  }
  .header-banner::before, .header-banner::after { content:'âœ¦'; position:absolute; top:50%; transform:translateY(-50%); color:var(--gold); font-size:16px; }
  .header-banner::before { left:10px; } .header-banner::after { right:10px; }
  .t-sub { font-size:11px; color:var(--gold); letter-spacing:3px; margin-bottom:4px; }
  .t-main { font-size:clamp(22px,6vw,32px); font-weight:900; color:#f5e6c0; text-shadow:2px 2px 4px rgba(0,0,0,0.5); letter-spacing:2px; }
  .t-main span { color:#e8c060; }
  .t-desc { font-size:11px; color:#c8a86a; margin-top:6px; }
  
  .divider { display:flex; align-items:center; gap:8px; margin:14px 0 8px; color:#7a5a30; font-size:14px; letter-spacing:3px; }
  .divider::before,.divider::after { content:''; flex:1; height:2px; background:repeating-linear-gradient(90deg,#8a6a40 0,#8a6a40 5px,transparent 5px,transparent 9px); opacity:.6; }

  /* â”€â”€ Rules Box & Popup Logic â”€â”€ */
  .rules-overlay {
    position: fixed; inset: 0; z-index: 200;
    background: rgba(30,15,5,0.8);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    display: flex; align-items: center; justify-content: center;
    opacity: 0; pointer-events: none;
    transition: opacity 0.5s ease;
  }
  .rules-overlay.active { opacity: 1; pointer-events: all; }

  .rules-box {
    width: 100%;
    background: #e8d090;
    border: 3px dashed rgba(122, 82, 48, 0.5);
    border-radius: 20px;
    padding: 20px;
    box-shadow: 0 15px 40px rgba(0,0,0,0.3);
    position: relative;
    transition: transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1), margin 0.5s ease;
  }

  .rules-overlay .rules-box {
    width: min(90vw, 450px);
    transform: scale(0.5);
  }
  .rules-overlay.active .rules-box {
    transform: scale(1);
  }

  #staticRulesContainer {
    margin-bottom: 20px;
    display: none;
  }

  .rules-title {
    font-size: 17px;
    font-weight: 900;
    color: var(--dark-brown);
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .rules-item {
    font-size: 14px;
    color: #4a2e0e;
    line-height: 1.6;
    margin-bottom: 10px;
    padding-left: 24px;
    position: relative;
  }
  .rules-item::before {
    content: 'â—ˆ';
    position: absolute; left: 0;
    color: var(--mid-brown);
    font-size: 11px; top: 2px;
  }
  .rules-item strong { color: #8a4010; font-weight: 700; }
  
  .example-tag {
    display: inline-block;
    background: #3a2010;
    color: #f5e6c0;
    padding: 3px 10px;
    border-radius: 6px;
    font-size: 12px;
    font-weight: 700;
    margin-top: 5px;
  }

  .rules-confirm-btn {
    display: block; width: 100%;
    margin-top: 20px; padding: 14px;
    background: linear-gradient(to bottom, #5a3a1a, #3a2010);
    color: var(--gold);
    border: 2px solid var(--gold);
    border-radius: 12px;
    font-size: 16px; font-weight: 900;
    cursor: pointer;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
  }
  .rules-confirm-btn:active { transform: scale(0.96); }

  /* â”€â”€ Grid â”€â”€ */
  .grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 12px;
  }
  @media (max-width: 360px) { .grid { grid-template-columns: repeat(2, 1fr); } }

  /* â”€â”€ Card (thumbnail) â”€â”€ */
  .card-thumb {
    height: var(--card-h);
    cursor: pointer;
    border-radius: 10px;
    border: 2.5px solid var(--dark-brown);
    background: linear-gradient(160deg, #d4a84b 0%, #b88830 45%, #8a6020 100%);
    box-shadow: 3px 3px 10px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,240,180,0.3);
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    position: relative; overflow: hidden;
    transition: transform .15s, box-shadow .15s;
    user-select: none;
    -webkit-user-select: none;
  }
  .card-thumb:active { transform: scale(.95); box-shadow: 1px 1px 6px rgba(0,0,0,0.4); }
  .card-thumb::before { content:''; position:absolute; inset:5px; border:1.5px dashed rgba(255,230,150,0.4); border-radius:6px; pointer-events:none; }

  /* â”€â”€ Locked State â”€â”€ */
  .card-thumb.locked {
    cursor: default;
    filter: brightness(0.7) grayscale(0.3);
    pointer-events: none;
  }
  .lock-overlay {
    position: absolute; inset: 0;
    background: rgba(40, 30, 15, 0.6);
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    z-index: 10;
    backdrop-filter: blur(1.5px);
    -webkit-backdrop-filter: blur(1.5px);
  }
  .lock-icon { font-size: 32px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.5)); opacity: 0.9; margin-bottom: 8px; }
  .lock-text { font-size: 22px; font-weight: 900; color: rgba(255, 255, 255, 0.4); letter-spacing: 1px; }

  .thumb-icon { font-size:28px; margin-bottom:5px; filter:drop-shadow(0 2px 3px rgba(0,0,0,0.4)); }
  .thumb-num {
    font-size:10px; font-weight:700; color:rgba(60,30,5,0.75);
    background:rgba(255,240,180,0.3); border-radius:10px; padding:1px 8px; letter-spacing:1px;
  }
  .thumb-title { font-size:9.5px; font-weight:700; color:var(--dark-brown); text-align:center; padding:0 10px; margin-top:4px; line-height:1.35; }
  .thumb-hint { font-size:8.5px; color:rgba(60,30,5,0.5); margin-top:5px; }
  .thumb-bg-num { position:absolute; bottom:2px; right:8px; font-size:42px; font-weight:900; color:rgba(255,240,180,0.18); font-style:italic; line-height:1; }

  /* â”€â”€ Mission Card Modal â”€â”€ */
  .overlay {
    position: fixed; inset: 0; z-index: 100;
    background: rgba(30,15,5,0.75);
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
    display: flex; align-items: center; justify-content: center;
    opacity: 0; pointer-events: none;
    transition: opacity .3s;
  }
  .overlay.active { opacity: 1; pointer-events: all; }

  .big-card-wrap {
    width: min(88vw, 380px);
    height: min(72vh, 480px);
    perspective: 1200px;
    position: relative;
  }
  .big-card-inner {
    width: 100%; height: 100%;
    transform-style: preserve-3d;
    transition: transform .65s cubic-bezier(0.4,0,0.2,1);
    position: relative;
  }
  .big-card-inner.flipped { transform: rotateY(180deg); }

  .big-front, .big-back {
    position: absolute; inset: 0;
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
    border-radius: 16px;
    border: 3px solid var(--dark-brown);
    overflow: hidden;
  }

  .big-front {
    background: linear-gradient(160deg, #d4a84b 0%, #b88830 45%, #8a6020 100%);
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    box-shadow: 0 20px 60px rgba(0,0,0,0.6);
  }
  .big-front::before { content:''; position:absolute; inset:10px; border:2px dashed rgba(255,230,150,0.4); border-radius:10px; pointer-events:none; }

  .bf-icon { font-size:64px; margin-bottom:12px; filter:drop-shadow(0 3px 8px rgba(0,0,0,0.5)); }
  .bf-num { font-size:13px; font-weight:700; color:rgba(60,30,5,0.75); background:rgba(255,240,180,0.35); border-radius:14px; padding:3px 14px; letter-spacing:2px; }
  .bf-title { font-size:18px; font-weight:900; color:var(--dark-brown); text-align:center; padding:0 24px; margin-top:10px; line-height:1.45; text-shadow:0 1px 0 rgba(255,220,150,0.6); }
  .bf-sub { font-size:13px; font-weight:700; color:rgba(50,25,5,0.7); text-align:center; padding:0 20px; margin-top:4px; }
  .bf-hint { margin-top:18px; font-size:12px; color:rgba(60,30,5,0.55); letter-spacing:1px; }
  .bf-bg-num { position:absolute; bottom:8px; right:16px; font-size:90px; font-weight:900; color:rgba(255,240,180,0.15); font-style:italic; line-height:1; }

  .big-back {
    background: linear-gradient(160deg, #f5e6c0 0%, #edd9a0 50%, #e0c880 100%);
    transform: rotateY(180deg);
    display: flex; flex-direction: column;
    padding: 22px 20px 20px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.6);
    overflow-y: auto;
  }
  .big-back::before { content:''; position:absolute; inset:8px; border:1.5px solid rgba(140,90,30,0.25); border-radius:10px; pointer-events:none; }
  .bb-num { font-size:11px; font-weight:700; color:#8a6030; letter-spacing:2px; margin-bottom:5px; }
  .bb-title { font-size:18px; font-weight:900; color:var(--dark-brown); line-height:1.45; margin-bottom:12px; padding-bottom:10px; border-bottom:2px dashed rgba(140,90,30,0.35); }
  .bb-desc { font-size:14.5px; color:#4a2e0e; line-height:1.75; flex:1; }
  
  .bb-point {
    margin-top: 4px; margin-bottom: 38px;
    padding:10px 12px; background:rgba(180,120,30,0.15);
    border-left:4px solid #b08030; border-radius:0 8px 8px 0;
    font-size:13px; color:#5a3508; line-height:1.65;
  }
  .bb-point strong { color:#7a4510; display:block; margin-bottom:3px; font-size:12px; letter-spacing:1px; }
  
  .bb-submit-btn {
    display: block; width: 100%; padding: 14px;
    background: linear-gradient(to right, #3a2010, #5a3a1a);
    color: #f5e6c0; text-align: center; text-decoration: none;
    border-radius: 10px; font-weight: 900; font-size: 15px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
    transition: transform 0.1s, filter 0.2s;
    border: 1.5px solid var(--gold); margin-bottom: 10px;
  }
  .bb-submit-btn:active { transform: scale(0.97); }

  .overlay-close {
    position:absolute; top:16px; right:16px;
    width:36px; height:36px;
    background:rgba(255,240,180,0.25);
    border:2px solid rgba(255,240,180,0.5);
    border-radius:50%;
    display:flex; align-items:center; justify-content:center;
    font-size:18px; color:#f5e6c0;
    cursor:pointer; z-index:110;
  }

  footer { text-align:center; margin-top:24px; color:rgba(80,50,20,0.6); font-size:11px; letter-spacing:2px; }
</style>
</head>
<body>
<div class="page">
  <header>
    <div class="header-banner">
      <div class="t-sub">ğŸš© MISSION CHALLENGE</div>
      <div class="t-main"><span>ê¹ƒë°œ</span>ì„ ì°¾ì•„ë¼!</div>
      <div class="t-desc">íŒ€ ë¯¸ì…˜ ì¹´ë“œ</div>
    </div>
    <div class="divider">âš“ í˜„ì¬ ë¯¸ì…˜ ì§„í–‰ ì¤‘ âš“</div>
  </header>

  <!-- ìƒë‹¨ ê³ ì • ì•ˆë‚´ ë°•ìŠ¤ ì˜ì—­ -->
  <div id="staticRulesContainer"></div>

  <div class="grid" id="cardGrid"></div>
  <footer>âœ¦ &nbsp; ì „ì£¼ëŒ€í•™êµ ë¦¬ë”ì‹­ ìº í”„ &nbsp; âœ¦</footer>
</div>

<!-- ì•± ì‹¤í–‰ ì‹œ ë‚˜íƒ€ë‚˜ëŠ” ì•ˆë‚´ íŒì—… -->
<div class="rules-overlay" id="rulesOverlay">
  <div class="rules-box" id="rulesBoxElement">
    <div class="rules-title">ğŸ“œ ë¯¸ì…˜ ì™„ë£Œ ê·œì¹™ ì•ˆë‚´ ğŸ˜œ</div>
    <div class="rules-item"><strong>ì‚¬ì§„ì˜ ì™„ì„±ì€ ì¡°ì›!</strong> ëª¨ë“  íŒ€ì›ì´ ì‚¬ì§„ì— ë¹ ì§ì—†ì´ ë‚˜ì™€ì•¼ ì„±ê³µì…ë‹ˆë‹¤. ğŸ•ºğŸ’ƒâœ¨</div>
    <div class="rules-item"><strong>ì—…ë¡œë“œ í•„ìˆ˜ ì ˆì°¨!</strong> êµ¬ê¸€ ë“œë¼ì´ë¸Œ ì—…ë¡œë“œ í›„ ë°˜ë“œì‹œ <strong>íŒŒì¼ëª…</strong>ì„ ë³€ê²½í•´ ì£¼ì„¸ìš”! âœï¸ğŸ”¥</div>
    <div class="rules-item">
      <strong>íŒŒì¼ëª… í˜•ì‹:</strong> (íŒ€ëª…+ë¯¸ì…˜ ë²ˆí˜¸) <br>
      <span class="example-tag">ì˜ˆì‹œ: ì „ì£¼íŒ€+4, ì „ì£¼íŒ€ 15 ğŸš©</span>
    </div>
    <button class="rules-confirm-btn" id="rulesConfirmBtn">í™•ì¸í–ˆìŠµë‹ˆë‹¤! âš“</button>
  </div>
</div>

<!-- ë¯¸ì…˜ ì¹´ë“œ ìƒì„¸ ëª¨ë‹¬ -->
<div class="overlay" id="overlay">
  <div class="overlay-close" id="overlayClose">âœ•</div>
  <div class="big-card-wrap" id="bigCardWrap">
    <div class="big-card-inner" id="bigCardInner">
      <div class="big-front" id="bigFront">
        <div class="bf-bg-num" id="bfBgNum"></div>
        <div class="bf-icon" id="bfIcon"></div>
        <div class="bf-num" id="bfNum"></div>
        <div class="bf-title" id="bfTitle"></div>
        <div class="bf-sub" id="bfSub"></div>
        <div class="bf-hint">â–¸ íƒ­í•˜ì—¬ ë¯¸ì…˜ í™•ì¸</div>
      </div>
      <div class="big-back" id="bigBack">
        <div class="bb-num" id="bbNum"></div>
        <div class="bb-title" id="bbTitle"></div>
        <div class="bb-desc" id="bbDesc"></div>
        <div class="bb-point"><strong>ğŸ“Œ POINT</strong><span id="bbPoint"></span></div>
        <a id="submitBtn" href="https://docs.google.com/forms/d/e/1FAIpQLSfkoc8z11AwzI1DrLllfOOC0_uH4wYxqAW5A3TvVZpc_wB5Eg/viewform?usp=sharing&ouid=106884591813640763602" target="_blank" class="bb-submit-btn">ğŸ“¸ ì‚¬ì§„/ë™ì˜ìƒ ì œì¶œí•˜ê¸°</a>
      </div>
    </div>
  </div>
</div>

<script>
const missions = [
  { num:"01", icon:"ğŸ¤", title:"ê²©í¬ë¥¼ ë‚´ ì†ì•ˆì—!", sub:"ì›ê·¼ë²• íŒŒê´´ì", desc:"ì¹´ë©”ë¼ì™€ ê°€ê¹Œìš´ íŒ€ì›ì´ ì†ë°”ë‹¥ì„ í¼ì¹˜ë©´, ë©€ë¦¬ ìˆëŠ” íŒ€ì›ì´ë‚˜ ì†Œë…¸ë²¨ ë¦¬ì¡°íŠ¸ ê±´ë¬¼ì´ ì†ë°”ë‹¥ ìœ„ì— ì˜¬ë¼ê°„ ê²ƒì²˜ëŸ¼ ê°ë„ë¥¼ ì¡°ì ˆí•´ ì´¬ì˜í•˜ì„¸ìš”.", point:"\"ì–´ë¼? ë¦¬ì¡°íŠ¸ê°€ ì™œ ì´ë ‡ê²Œ ì‘ì•„?\" ì†Œë¦¬ê°€ ì ˆë¡œ ë‚˜ì˜¤ê²Œ ë¦¬ì–¼í•œ ì—°ê¸°ê°€ í•„ìˆ˜!" },
  { num:"02", icon:"ğŸ’¨", title:"ê²©í¬ ì¥í’ ëŒ€ì†Œë™:", sub:"ë‚ ì•„ë¼ ì¡°ì›ë“¤", desc:"íŒ€ì› 1ëª…ì´ ê°€ìš´ë°ì—ì„œ ê°•ë ¥í•œ ì¥í’ì„ ì˜ëŠ” í¬ì¦ˆë¥¼ ì·¨í•˜ê³ , ë‚˜ë¨¸ì§€ íŒ€ì›ë“¤ì€ ë™ì‹œì— ë’¤ë¡œ ë‚ ì•„ê°€ëŠ” ë“¯í•œ ì—­ë™ì ì¸ í¬ì¦ˆë¥¼ ì·¨í•˜ì„¸ìš”.", point:"ë°œì´ ë•…ì—ì„œ ë–¨ì–´ì§€ëŠ” ìˆœê°„ì„ í¬ì°©í•˜ë©´ ê°€ì‚°ì  í­ë°œ! (ì—°ì‚¬ ëª¨ë“œ ì¶”ì²œ)" },
  { num:"03", icon:"ğŸŒ", title:"ì§€êµ¬ëŠ” ë‚´ê°€ ë°€ê²Œ!", sub:"ì¤‘ë ¥ì„ ê±°ìŠ¤ë¥´ëŠ” ì", desc:"íŒ€ì› 1ëª… ì „ì›ì´ í•˜ë‚˜, ë‘˜, ì…‹ êµ¬í˜¸ì— ë§ì¶° ë™ì‹œì— ì í”„í•˜ì„¸ìš”.", point:"ì‚¬ì§„ ì†ì— ë•…ì— ë‹¿ì€ ë°œì´ í•˜ë‚˜ë„ ì—†ì–´ì•¼ ì„±ê³µì…ë‹ˆë‹¤. ì…”í„° íƒ€ì´ë°ì´ í•µì‹¬!" },
  { num:"04", icon:"ğŸ¦¶", title:"ë°œ ë‹¿ìœ¼ë©´ íƒˆë½!", sub:"ë¶ˆê°€ëŠ¥í•œ 4ì¡± ë³´í–‰", desc:"10ëª…ì˜ íŒ€ì›ì´ì§€ë§Œ ë•…ì— ë‹¿ëŠ” ë°œì˜ ê°œìˆ˜ë¥¼ ìµœì†Œí™”í•˜ì„¸ìš”. ì„œë¡œ ì—…ê³ , ë“¤ê³ , ë§¤ë‹¬ë ¤ ë³´ì„¸ìš”.", point:"ë•…ì— ë‹¿ì€ ë°œì´ ì ì„ìˆ˜ë¡ ë¦¬ë”ì‹­ í¬ì¸íŠ¸ ìƒìŠ¹! (ì•ˆì „ì— ìœ ì˜í•˜ì„¸ìš”)" },
  { num:"05", icon:"ğŸ”¤", title:"ìš°ë¦¬ ì¡°ë¥¼ ëª¸ìœ¼ë¡œ!", sub:"íœ´ë¨¼ í…ìŠ¤íŠ¸", desc:"íŒ€ì›ë“¤ì˜ ëª¸ì„ ì´ìš©í•´ ì¡° ë²ˆí˜¸(ì˜ˆ: ìˆ«ì '1')ë‚˜ íŒ€ì˜ í•µì‹¬ ë‹¨ì–´ë¥¼ ë°”ë‹¥ì— ê·¸ë ¤ë³´ì„¸ìš”.", point:"ë†’ì€ ê³³ì—ì„œ ì•„ë˜ë¡œ ì°ëŠ” 'í•­ê³µìƒ·'ì´ë‚˜ ìœ„ë¥¼ ë°”ë¼ë³´ëŠ” 'ì…€ì¹´ ê°ë„'ê°€ ë©‹ì§€ê²Œ ë‚˜ì˜µë‹ˆë‹¤." },
  { num:"06", icon:"ğŸ¤", title:"ì•½ì†ì€ ì§€í‚¨ë‹¤!", sub:"ê·¸ë¼ìš´ë“œ ë£° ë§ˆì„", desc:"ìº í”„ ì‹œì‘ ì „ ì •í•œ ìš°ë¦¬ íŒ€ë§Œì˜ ì•½ì†(ê²½ì²­, ë¦¬ì•¡ì…˜, ë¹„ë‚œ ê¸ˆì§€ ë“±) ì¤‘ í•˜ë‚˜ë¥¼ ê³¨ë¼ ìƒí™©ê·¹ì„ ì‚¬ì§„ìœ¼ë¡œ ë‚¨ê¸°ì„¸ìš”.", point:"ì„¤ëª…ì„ ë³´ì§€ ì•Šì•„ë„ \"ì•„! ì´ íŒ€ì€ ë¦¬ì•¡ì…˜ì´ ê·œì¹™ì´êµ¬ë‚˜!\"ë¼ê³  ëŠê»´ì§€ê²Œ í‘œí˜„í•˜ëŠ” ê²ƒì´ í•µì‹¬!" },
  { num:"07", icon:"ğŸ›ï¸", title:"ë¬´ë„ˆì§€ì§€ ì•ŠëŠ” ì‹ ë¢°:", sub:"ì¸ê°„ í”¼ë¼ë¯¸ë“œ", desc:"íŒ€ì›ë“¤ì´ ì„œë¡œë¥¼ ì§€íƒ±í•˜ë©° ì¸ê°„ í”¼ë¼ë¯¸ë“œ ë˜ëŠ” ë¶€ì±„ê¼´ ëª¨ì–‘ìœ¼ë¡œ í¼ì³ì ¸ì„œ ì•ˆì •ì ì¸ êµ¬ì¡°ë¥¼ ë§Œë“œì„¸ìš”.", point:"\"í•¨ê»˜ ê°€ë©´ ë©€ë¦¬ ê°„ë‹¤\"ëŠ” ë©”ì‹œì§€ê°€ ëŠê»´ì§€ë„ë¡ íŒ€ì› ì „ì›ì˜ ì†ì´ ì—°ê²°ë˜ì–´ì•¼ í•©ë‹ˆë‹¤." },
  { num:"08", icon:"ğŸ¦", title:"ìš°ë¦¬ íŒ€ì˜ ìˆ˜í˜¸ì‹ :", sub:"ì¡°ë³„ ì‹œê·¸ë‹ˆì²˜ ë™ë¬¼", desc:"ìš°ë¦¬ ì¡°ë¥¼ ìƒì§•í•˜ëŠ” ë™ë¬¼ì„ ì •í•˜ê³ , 10ëª…ì´ í•©ì²´í•˜ì—¬ í•˜ë‚˜ì˜ ê±°ëŒ€í•œ ë™ë¬¼ì„ í˜•ìƒí™”í•˜ì„¸ìš”.", point:"ì°½ì˜ë ¥ì´ ë‹ë³´ì´ëŠ” ë™ë¬¼ì¼ìˆ˜ë¡ 'ì°½ì˜ ë¦¬ë”ì‹­' ì ìˆ˜ ê°€ì‚°!" },
  { num:"09", icon:"â­", title:"ìŠˆí¼ìŠ¤íƒ€ ê°•ë¦¼!", sub:"ì„¼í„°ì˜ ì£¼ì¸ê³µì€ ë‚˜ì•¼ ë‚˜", desc:"í•œ ëª…ì˜ íŒ€ì›ì„ ì„¼í„°ì— ë‘ê³  ë‚˜ë¨¸ì§€ íŒ€ì›ë“¤ì´ í›„ê´‘ì„ ë¹„ì¶”ê±°ë‚˜ ê°íƒ„í•˜ëŠ” í¬ì¦ˆë¥¼ ì·¨í•˜ì„¸ìš”.", point:"ì „ì£¼ëŒ€í•™êµì˜ ìŠ¬ë¡œê±´ì¸ 'Superstar'ë¥¼ ê°€ì¥ í™”ë ¤í•˜ê²Œ í‘œí˜„í•´ ë³´ì„¸ìš”." },
  { num:"10", icon:"ğŸ¤Ÿ", title:"ë‚´ ì†ì•ˆì˜ JJ:", sub:"í•‘ê±° ë¡œê³  ì±Œë¦°ì§€", desc:"íŒ€ì›ë“¤ì˜ ì†ê°€ë½ì´ë‚˜ íŒ”ì„ ì¡°í•©í•´ ì „ì£¼ëŒ€ ì˜ë¬¸ ì´ë‹ˆì…œ 'JJ'ë¥¼ ë§Œë“œì„¸ìš”.", point:"ì¹´ë©”ë¼ ë Œì¦ˆ ê°€ê¹Œì´ì— 'JJ'ë¥¼ ë§Œë“¤ê³ , ê·¸ ì‚¬ì´ë¡œ íŒ€ì›ë“¤ì˜ ì–¼êµ´ì´ ëª¨ë‘ ë³´ì´ê²Œ ì°ìœ¼ë©´ ì¸ìƒìƒ· ì™„ì„±!" },
  { num:"11", icon:"ğŸ“š", title:"ë¯¸ë˜ì˜ ì¸ì¬ë“¤:", sub:"ì¸í…”ë¦¬ ì»¨ì…‰ìƒ·", desc:"í•´ë³€ì—ì„œ ì±…ì„ ì½ê±°ë‚˜ ë¯¸ë˜ë¥¼ ì§„ì§€í•˜ê²Œ í† ë¡ í•˜ëŠ” 'ì§€ì ì¸ ëŒ€í•™ìƒ' ì»¨ì…‰ì„ ì—°ì¶œí•˜ì„¸ìš”.", point:"ì§„ì§€í• ìˆ˜ë¡ ì›ƒê¸´ 'ì½”ë¯¹ ì¸í…”ë¦¬' ì»¨ì…‰ì„ ì¶”ì²œí•©ë‹ˆë‹¤." },
  { num:"12", icon:"ğŸ’…", title:"ê²©í¬ ëŸ°ì›¨ì´:", sub:"í™ë³´ ëª¨ë¸ ìƒë¥™", desc:"ê²©í¬ì˜ ì ˆê²½(ì±„ì„ê°• ë“±)ì„ ë°°ê²½ìœ¼ë¡œ í•™êµ í™ë³´ íŒœí”Œë ›ì— ì‹¤ë¦´ ë²•í•œ ë‹¹ë‹¹í•œ ëª¨ë¸ í¬ì¦ˆë¥¼ ì·¨í•˜ì„¸ìš”.", point:"\"ì´ ì‚¬ì§„ ì „ì£¼ëŒ€ í™ë³´íŒ€ì—ì„œ ì‚¬ê°ˆì§€ë„ ëª°ë¼!\"ë¼ëŠ” ë§ˆìŒê°€ì§ìœ¼ë¡œ ê³ í€„ë¦¬í‹°ë¥¼ ì§€í–¥í•˜ì„¸ìš”." },
  { num:"13", icon:"ğŸš", title:"ìì—°ì—ì„œ ì°¾ì€ ë³´ë¬¼:", sub:"JJ ì—ì½” ë¡œê³ ", desc:"ëª¨ë˜ì‚¬ì¥ ìœ„ì˜ ì¡°ê°œê»ë°ê¸°, ë¯¸ì—­, ëŒ ë“±ì„ ëª¨ì•„ 'JJ' ë¡œê³ ë¥¼ ì™„ì„±í•˜ê³  ì¡°ì›ë“¤ì´ ê·¸ ì£¼ìœ„ë¥¼ ê°ì‹¸ë©° ì´¬ì˜í•˜ì„¸ìš”.", point:"ìì—° í›¼ì†ì€ ê¸ˆë¬¼! ì£¼ë³€ì— ë–¨ì–´ì§„ ìì—°ë¬¼ë§Œ í™œìš©í•˜ëŠ” ê²ƒì´ ê·œì¹™ì…ë‹ˆë‹¤." },
  { num:"14", icon:"ğŸ¬", title:"15ì´ˆì˜ ë§ˆë²•:", sub:"ì „ì£¼ëŒ€ í¼ ë¯¸ì³¤ë‹¤ (ìˆí¼)", desc:"\"ì „ì£¼ëŒ€í•™êµì— ì˜¤ë©´ [ ]ë„ í•  ìˆ˜ ìˆë‹¤!\"ë¼ëŠ” ë¬¸êµ¬ë¥¼ ì™„ì„±í•˜ëŠ” ë¦´ë ˆì´ ì˜ìƒì„ 15ì´ˆ ë‚´ì™¸ë¡œ ì°ìœ¼ì„¸ìš”.", point:"í‹±í†¡ì´ë‚˜ ë¦´ìŠ¤ ëŠë‚Œìœ¼ë¡œ ì‹ ë‚˜ê³  ë¹ ë¥´ê²Œ í¸ì§‘(ë˜ëŠ” ì›í…Œì´í¬)í•˜ì„¸ìš”." },
  { num:"15", icon:"ğŸ–ï¸", title:"ê²©í¬ì˜ ëª¨ë˜ ì¥ì¸:", sub:"JJ 3D ëœë“œë§ˆí¬", desc:"ê¹ƒë°œ ì£¼ë³€ ëª¨ë˜ë¥¼ ì´ìš©í•´ ì „ì£¼ëŒ€ì˜ ìƒì§•ë¬¼(ìŠ¤íƒ€ì„¼í„° ë“±)ì´ë‚˜ ë¡œê³ ë¥¼ 3Dë¡œ ì…ì²´ê° ìˆê²Œ ì¡°ê°í•˜ì„¸ìš”.", point:"í‰ë©´ì€ ë…¸ë…¸! ì…ì²´ì ì¸ ì˜ˆìˆ  ê°ê°ì„ ë°œíœ˜í•´ ë³´ì„¸ìš”." }
];

const grid = document.getElementById('cardGrid');
const overlay = document.getElementById('overlay');
const inner = document.getElementById('bigCardInner');
const rulesOverlay = document.getElementById('rulesOverlay');
const rulesConfirmBtn = document.getElementById('rulesConfirmBtn');
const rulesBox = document.getElementById('rulesBoxElement');
const staticContainer = document.getElementById('staticRulesContainer');

let isFlipped = false;
let openTimer = null;

function openCard(m) {
  document.getElementById('bfBgNum').textContent = m.num;
  document.getElementById('bfIcon').textContent = m.icon;
  document.getElementById('bfNum').textContent = 'MISSION ' + m.num;
  document.getElementById('bfTitle').textContent = m.title;
  document.getElementById('bfSub').textContent = m.sub;
  
  document.getElementById('bbNum').textContent = 'MISSION ' + m.num;
  document.getElementById('bbTitle').textContent = m.title + ' ' + m.sub;
  document.getElementById('bbDesc').textContent = m.desc;
  document.getElementById('bbPoint').textContent = m.point;

  isFlipped = false;
  inner.classList.remove('flipped');
  overlay.classList.add('active');
  document.body.style.overflow = 'hidden';

  openTimer = setTimeout(() => {
    inner.classList.add('flipped');
    isFlipped = true;
  }, 400);
}

function closeCard() {
  clearTimeout(openTimer);
  if (isFlipped) {
    inner.classList.remove('flipped');
    isFlipped = false;
    setTimeout(() => {
      overlay.classList.remove('active');
      document.body.style.overflow = '';
    }, 650);
  } else {
    overlay.classList.remove('active');
    document.body.style.overflow = '';
  }
}

// ê·¸ë¦¬ë“œ ë Œë”ë§ ë£¨í”„
missions.forEach((m, index) => {
  const el = document.createElement('div');
  // 9ë²ˆ ë¯¸ì…˜ (index 8)ë§Œ í´ë¦­ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •
  const isLocked = index !== 8; 
  el.className = 'card-thumb' + (isLocked ? ' locked' : '');
  
  let lockHTML = isLocked ? `
    <div class="lock-overlay">
      <div class="lock-icon">ğŸ”’</div>
      <div class="lock-text">${m.num}</div>
    </div>
  ` : '';

  el.innerHTML = `
    ${lockHTML}
    <div class="thumb-bg-num">${m.num}</div>
    <div class="thumb-icon">${m.icon}</div>
    <div class="thumb-num">MISSION ${m.num}</div>
    <div class="thumb-title">${m.title}<br><span style="opacity:.8">${m.sub}</span></div>
    <div class="thumb-hint">â–¸ ${isLocked ? 'ì ê²¨ìˆìŒ' : 'íƒ­í•˜ê¸°'}</div>
  `;
  
  if (!isLocked) {
    el.addEventListener('click', () => openCard(m));
  }
  grid.appendChild(el);
});

// ì•ˆë‚´ íŒì—… í™•ì¸ ì‹œ ë™ì‘
rulesConfirmBtn.addEventListener('click', () => {
  rulesOverlay.classList.remove('active');
  rulesConfirmBtn.style.display = 'none';
  
  setTimeout(() => {
    staticContainer.appendChild(rulesBox);
    staticContainer.style.display = 'block';
    
    // 9ë²ˆ ë¯¸ì…˜ (index 8)ì„ ìë™ìœ¼ë¡œ ì‹¤í–‰
    setTimeout(() => {
      openCard(missions[8]); 
    }, 400);
  }, 500);
});

document.getElementById('submitBtn').addEventListener('click', (e) => e.stopPropagation());
document.getElementById('bigCardWrap').addEventListener('click', (e) => {
  if(e.target.closest('.bb-submit-btn')) return;
  if (!isFlipped) {
    inner.classList.add('flipped');
    isFlipped = true;
  } else {
    closeCard();
  }
});
document.getElementById('overlayClose').addEventListener('click', e => { e.stopPropagation(); closeCard(); });
overlay.addEventListener('click', e => { if (e.target === overlay) closeCard(); });

window.onload = () => {
  setTimeout(() => {
    rulesOverlay.classList.add('active');
  }, 600);
};
</script>
</body>
</html>